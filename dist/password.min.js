/**
 * @author Ã’scar Casajuana a.k.a. elboletaire <elboletaire at underave dot net>
 * @link https://github.com/elboletaire/password-strength-meter
 * @license GPL-3.0
 */
!function(h){"use strict";function t(n,l){function c(t,s){let r="",a=!1;for(let e=0;e<s.length;e++){a=!0;for(var o=0;o<t&&o+e+t<s.length;o++)a=a&&s.charAt(o+e)===s.charAt(o+e+t);(a=o<t?!1:a)?(e+=t-1,a=!1):r+=s.charAt(e)}return r}function i(e,t){var s;return l.useColorBarImage?e.css({backgroundPosition:"0px -"+t+"px",width:t+"%"}):(s=function(e){let t=0,s=240,r=0,a=240,o=10;Object.prototype.hasOwnProperty.call(l.customColorBarRGB,"red")&&(t=l.customColorBarRGB.red[0],s=l.customColorBarRGB.red[1]),Object.prototype.hasOwnProperty.call(l.customColorBarRGB,"green")&&(r=l.customColorBarRGB.green[0],a=l.customColorBarRGB.green[1]),Object.prototype.hasOwnProperty.call(l.customColorBarRGB,"blue")&&(o=l.customColorBarRGB.blue);var n=e*a/50,e=2*s-e*s/50;return{red:Math.min(Math.max(e,t),s),green:Math.min(Math.max(n,r),a),blue:o}}(t),e.css({"background-image":"none","background-color":"rgb("+s.red.toString()+", "+s.green.toString()+", "+s.blue.toString()+")",width:t+"%"})),e}return l=h.extend({},{enterPass:"Type your password",shortPass:"The password is too short",containsField:"The password contains your username",steps:{13:"Really insecure password",33:"Weak; try combining letters & numbers",67:"Medium; try using special characters",94:"Strong password"},showPercent:!1,showText:!0,animate:!0,animateSpeed:"fast",field:!1,fieldPartialMatch:!0,minimumLength:4,closestSelector:"div",useColorBarImage:!1,customColorBarRGB:{red:[0,240],green:[0,240],blue:10}},l),function(){let e=!0,r=l.showText,a=l.showPercent;var t=h("<div>").addClass("pass-gray-bar");let o=h("<div>").addClass("pass-color-bar");const s=h("<div>").addClass("pass-wrapper").append(t.append(o));return n.closest(l.closestSelector).addClass("pass-strength-visible"),l.animate&&(s.css("display","none"),e=!1,n.closest(l.closestSelector).removeClass("pass-strength-visible")),l.showPercent&&(a=h("<span>").addClass("pass-percent").text("0%"),s.append(a)),l.showText&&(r=h("<span>").addClass("pass-text").html(l.enterPass),s.append(r)),n.closest(l.closestSelector).append(s),n.keyup(function(){let e=l.field||"";e=e&&h(e).val();var t=function(e,t){let s=0;if(e.length<l.minimumLength)return-1;if(l.field){if(e.toLowerCase()===t.toLowerCase())return-2;if(l.fieldPartialMatch&&t.length){t=new RegExp(t.toLowerCase());if(e.toLowerCase().match(t))return-2}}return s=(s=(s=(s=(s+=4*e.length)+(c(1,e).length-e.length))+(c(2,e).length-e.length))+(c(3,e).length-e.length))+(c(4,e).length-e.length),e.match(/(.*[0-9].*[0-9].*[0-9])/)&&(s+=5),t=".*[!,@,#,$,%,^,&,*,?,_,~-]",t=new RegExp("("+t+t+")"),e.match(t)&&(s+=5),e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(s+=10),e.match(/([a-zA-Z])/)&&e.match(/([0-9])/)&&(s+=15),e.match(/([!@#$%^&*?_~-])/)&&e.match(/([0-9])/)&&(s+=15),e.match(/([!@#$%^&*?_~-])/)&&e.match(/([a-zA-Z])/)&&(s+=15),(e.match(/^\w+$/)||e.match(/^\d+$/))&&(s-=10),s=(s=100<s?100:s)<0?0:s}(n.val(),e),s=(n.trigger("password.score",[t]),t<0?0:t);if(o=i(o,s),l.showPercent&&a.html(s+"%"),l.showText){let e=function(e){if(-1===e)return l.shortPass;if(-2===e)return l.containsField;e=e<0?0:e;let t=l.shortPass;var s=Object.keys(l.steps).sort();for(const a in s){var r=s[a];r<e&&(t=l.steps[r])}return t}(t);!n.val().length&&t<=0&&(e=l.enterPass),r.html()!==h("<div>").html(e).html()&&(r.html(e),n.trigger("password.text",[e,t]))}}),l.animate&&(n.focus(function(){e||s.slideDown(l.animateSpeed,function(){e=!0,n.closest(l.closestSelector).addClass("pass-strength-visible")})}),n.blur(function(){!n.val().length&&e&&s.slideUp(l.animateSpeed,function(){e=!1,n.closest(l.closestSelector).removeClass("pass-strength-visible")})})),this}.call(this)}h.fn.password=function(e){return this.each(function(){new t(h(this),e)})}}(jQuery);